<nav role="navigation" class="navbar navbar-default">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed"
				data-toggle="collapse" data-target="#navbar">
				<span class="sr-only">Toggle navigation</span> <span
					class="icon-bar"></span> <span class="icon-bar"></span> <span
					class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="#">Green Market</a>
		</div>
		<div id="navbar" class="navbar-collapse collapse" ng-controller="HeaderController">

			<ul class="nav navbar-nav">

				<li ng-class="{ active: isActive('/')}"><a ng-href="#/">Home</a></li>
				<li ng-class="{ active: isActive('/stalls')}"><a ng-href="#/stalls">Stalls</a></li>
				<li ng-class="{ active: isActive('/sellers')}"><a ng-href="#/sellers">Sellers</a></li>
				<li ng-class="{ active: isActive('/order_items')}"><a ng-href="#/order_items">
					<i class="glyphicon glyphicon-shopping-cart"></i>
					<span class="badge">{{numCartItems}}</span>Shopping Cart
				</a></li>
				</ul>


			<ul class="nav nav-pills pull-right">
				<!-- Search form -->
				<form class="navbar-form navbar-left" role="search"
					ng-submit="search()" ng-controller="SearchController">
					<div class="form-group">
						<input type="text" class="form-control" placeholder="Search"
							ng-model="searchField">
					</div>
					<button type="submit" class="btn btn-default">Submit</button>
				</form>


				<li class="dropdown" ng-controller="LanguageController">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown">
						<span>
							<i class="fa fa-fw fa-flag"></i>
							<span class="hidden-tablet"
							translate="generic.language"></span> <b class="caret"></b>
						</span>
					</a>
					<ul class="dropdown-menu">
						<li class="{{isActive(l.name) ? 'active':''}}"
							ng-repeat="l in languages"><a
							ng-click="changeLanguage(l.name)"> <span
								class="famfamfam-flag-{{l.name}}"></span>&nbsp;<span
								translate="generic.{{l.name}}"></span></a></li>

					</ul></li>
				
				<li><a ng-href="#/login" ng-if="!$root.user">Login</a></li>
					
					<li class="dropdown" ng-if="$root.user">
					  <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">{{$root.user.username}}
					  <span class="caret"></span></button>
					  <ul class="dropdown-menu">
					  	<!-- so GET -->
					   <!--  <li><a ng-href="#/profile/{{$root.user.username}}" class="clickable"> 
					    	<i class="glyphicon glyphicon-user"></i> Profile </a>
					    	</li> -->
					    	
					    	<!-- so POST -->
					    	<li>
					    		<form action="#/profile" method="post" ng-submit="username()">
					    			<input id="username" name="username" ng-model="username" type="submit" hidden="true" value="{{$root.user.username}}" ></input>
					    			<i class="glyphicon glyphicon-user"></i><input type="submit" id="submit" value="Profile"></input>
					    		</form>
					    	</li>
					    	
					    <li><a ng-click="logout()" class="clickable" tittle="logout"> 
					    	<i class="glyphicon glyphicon-off"></i>Logout</a></li>
					  </ul>
					</li>
			
			</ul>
			<div class="row">
				<ul class="nav navbar-nav" ng-if="$root.user.role === 'ROLE_ADMIN'">
					<!-- Treba da se smenat -->
					<li><a>Admin:</a></li>
					
					<li ng-class="{ active: isActive('/products')}"><a ng-href="#/products">Edit Products</a></li>
					<li ng-class="{ active: isActive('/admin/types')}"><a ng-href="#/admin/types">Edit Types</a></li>
					<li ng-class="{ active: isActive('/admin/categories')}"><a ng-href="#/admin/categories">Edit Category</a></li>
					<li ng-class="{ active: isActive('/admin/stalls')}"><a ng-href="#/admin/stalls">Edit Stalls</a></li>
					<li ng-class="{ active: isActive('/admin/sellers')}"><a ng-href="#/admin/sellers">Edit Sellers</a></li>
				</ul>
			</div>
		</div>
		<!--/.nav-collapse -->
	</div>

</nav>
